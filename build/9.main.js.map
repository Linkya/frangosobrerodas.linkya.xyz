{"version":3,"sources":["../../src/pages/order-detail/order-detail.module.ts","webpack:///./src/providers/cart-service.ts?2c4d**","../../src/pages/order-detail/order-detail.ts"],"names":[],"mappings":"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","file":"9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OrderDetailPage } from './order-detail';\n\n@NgModule({\n  declarations: [\n    OrderDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OrderDetailPage),\n  ],\n  exports: [\n    OrderDetailPage\n  ]\n})\nexport class OrderDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-detail/order-detail.module.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Headers, RequestOptions } from '@angular/http';\r\nimport { Events } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\n\r\nexport class Cart {\r\n\ttotalPrice: number;\r\n    totalQuantity: number;\r\n    items: any[] = [];\r\n \r\n\tconstructor() {\r\n\t\tthis.totalPrice = 0;\r\n        this.totalQuantity = 0;\r\n\t\tthis.items = [];\r\n\t}\r\n}\r\n\r\nexport class Order {\r\n\tuser_id: number;\r\n    hour: any;\r\n    date: any;\r\n    items: any;\r\n    local: String;\r\n    locality?: String;\r\n    address?: String;\r\n    postal_code?: String;\r\n    payment_method_id: number;\r\n    sub_total: number;\r\n    total: number;\r\n    coupon: string;\r\n    note?: string;\r\n    nif?: number;\r\n    coupon_value?: number;\r\n    fee?: number;\r\n    change?: number;\r\n\r\n\tconstructor() {\r\n\t\tthis.payment_method_id = null;\r\n        this.postal_code = null;\r\n        this.hour = null;\r\n\t}\r\n}\r\n\r\n@Injectable()\r\nexport class CartService {\r\n    // API_URL = 'http://172.24.62.104/link.eddmi.com/index.php/takeaway/';\r\n\t// ENTITY_ID = 2;\r\n\tAPI_URL = 'https://app.linkya.xyz/takeaway/';\r\n\tENTITY_ID = 281;\r\n\tconstructor(\r\n\t\tpublic events: Events,\r\n\t\tpublic storage: Storage,\r\n\t\tpublic http: Http\r\n\t) {}\r\n\r\n    addItem(item: any, measure: any): Promise<Cart> {\r\n        return this.get().then((cart) => {\r\n            // console.log(cart);\r\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === measure.name);\r\n            if(!auxItem) {\r\n                let newItem = item;\r\n                newItem.measure_name = measure.name;\r\n                newItem.price = measure.value;\r\n                newItem.quantity = 1;\r\n                cart.totalQuantity++;\r\n                cart.items.push(newItem);\r\n            }\r\n            else {\r\n                var index = cart.items.indexOf(auxItem);\r\n                cart.items[index].quantity++;\r\n            }\r\n            cart.totalPrice += Number(measure.value);\r\n            cart.totalPrice = Number(cart.totalPrice.toFixed(2));\r\n            this.set(cart);\r\n            return cart;\r\n        })\r\n    }\r\n\r\n    incrementQuantity(item: any): Promise<Cart> {\r\n        return this.get().then((cart) => {\r\n            // console.log(cart);\r\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === item.measure_name);\r\n            var index = cart.items.indexOf(auxItem);\r\n            cart.items[index].quantity++;\r\n            cart.totalPrice += Number(cart.items[index].price);\r\n            cart.totalPrice = Number(cart.totalPrice.toFixed(2));\r\n            this.set(cart);\r\n            return cart;\r\n        })\r\n    }\r\n\r\n    decrementQuantity(item: any): Promise<Cart> {\r\n        return this.get().then((cart) => {\r\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === item.measure_name);\r\n            var index = cart.items.indexOf(auxItem);\r\n            if(cart.items[index].quantity > 1) {\r\n                cart.items[index].quantity--;\r\n                cart.totalPrice -= Number(cart.items[index].price);\r\n                cart.totalPrice = Number(cart.totalPrice.toFixed(2));\r\n                this.set(cart);\r\n            }\r\n            return cart;\r\n        })\r\n    }\r\n\r\n    removeItem(item: any): Promise<Cart> {\r\n        return this.get().then((cart) => {\r\n            let auxItem = cart.items.find((p: any) => p.id === item.id && p.measure_name === item.measure_name);\r\n            var index = cart.items.indexOf(auxItem);\r\n            if (index > -1) {\r\n                cart.totalQuantity--;\r\n                cart.totalPrice -= auxItem.quantity * Number(auxItem.price);\r\n                cart.totalPrice = Number(cart.totalPrice.toFixed(2));\r\n                cart.items.splice(index, 1);\r\n            }\r\n            this.set(cart);\r\n            return cart;\r\n        })\r\n    }\r\n\r\n\tset(cart: Cart): void {\r\n\t\tthis.storage.set('cart', cart);\r\n\t};\r\n\r\n\tget(): Promise<Cart> {\r\n\t\treturn this.storage.get('cart').then((value) => {\r\n            if(value) {\r\n                return value;\r\n            }\r\n            else {\r\n                let cart = new Cart();\r\n                this.set(cart);\r\n                return cart;\r\n            }\r\n\t\t});\r\n\t};\r\n\r\n    paymentMethods() : Promise<any> {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tvar url = this.API_URL + '/payment/all';\r\n\t\t\tlet _headers = new Headers({ 'Authorization': this.ENTITY_ID });\r\n\t\t\tlet _options = new RequestOptions({headers: _headers});\r\n\t\t\tthis.http.get(url, _options)\r\n\t\t\t\t.map(res => res.json())\r\n\t\t\t\t.subscribe(data => {\r\n\t\t\t\t\tresolve(data);\r\n\t\t\t\t});\r\n\t\t});\r\n\t}  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/cart-service.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Order } from '../../providers/cart-service';\n\n/**\n * Generated class for the OrderDetailPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-order-detail',\n  templateUrl: 'order-detail.html',\n})\nexport class OrderDetailPage {\n  order: Order = new Order();\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    this.order = this.navParams.data.order;\n    // console.log(this.order);\n  }\n\n  ionViewDidLoad() {\n    // console.log('ionViewDidLoad OrderDetailPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/order-detail/order-detail.ts"],"sourceRoot":""}