{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"12.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { LoginPage } from './login';\r\n \r\n@NgModule({\r\n  declarations: [\r\n    LoginPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(LoginPage),\r\n  ],\r\n  exports: [\r\n    LoginPage\r\n  ]\r\n})\r\nexport class LoginPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\n\r\nimport { IonicPage, AlertController, NavController, LoadingController } from 'ionic-angular';\r\n\r\nimport { UserService } from '../../providers/user-service';\r\n\r\n@IonicPage()\r\n@Component({\r\n\tselector: 'page-user',\r\n\ttemplateUrl: 'login.html'\r\n})\r\nexport class LoginPage {\r\n\tlogin: {email?: string, password?: string} = {};\r\n\tsubmitted = false;\r\n\tloading: any;\r\n\r\n\tconstructor(public navCtrl: NavController, public alertCtrl: AlertController, public UserService: UserService, public loadingCtrl: LoadingController) { \r\n\t\t// this.loading = this.loadingCtrl.create();\r\n\t}\r\n\r\n\tonLogin(form: NgForm) {\r\n\t\tthis.submitted = true;\r\n\t\t\r\n\t\tif (form.valid) {\r\n\t\t\tthis.loading = this.loadingCtrl.create();\r\n\t\t\tthis.loading.present().then(()=>{\r\n\t\t\t\tthis.UserService.login(this.login.email, this.login.password).then((value) => {\r\n\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\tthis.navCtrl.setRoot('MenuPage');\r\n\t\t\t\t}, (error) => {\r\n\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\tswitch(error.status) {\r\n\t\t\t\t\t\tcase 400:\r\n\t\t\t\t\t\t\tthis.alert(\"Erro\", \"Password errada\");\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 404:\r\n\t\t\t\t\t\t\tthis.alert(\"Erro\", \"O email não está registado\");\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthis.alert(\"Erro\", \"Ocorreu um erro\");\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tonSignup() {\r\n\t\tthis.navCtrl.push('SignupPage');\r\n\t}\r\n\r\n\trecoverPassword() {\r\n\t\tlet alert = this.alertCtrl.create({\r\n\t\t\ttitle: 'Recuperar password',\r\n\t\t\tbuttons: [\r\n\t\t\t\t'Cancelar'\r\n\t\t\t]\r\n\t\t});\r\n\t\talert.addInput({\r\n\t\t\tname: 'email',\r\n\t\t\tvalue: this.login.email,\r\n\t\t\tplaceholder: 'Email'\r\n\t\t});\r\n\t\talert.addButton({\r\n\t\t\ttext: 'Ok',\r\n\t\t\thandler: (data: any) => {\r\n\t\t\t\tthis.loading = this.loadingCtrl.create();\r\n\t\t\t\t\tthis.loading.present().then(()=>{\r\n\t\t\t\t\tthis.UserService.recoverPassword(data.email).then(data => {\r\n\t\t\t\t\t\tthis.alert('Sucesso', 'Pedido efectuado com sucesso. A nova password foi enviada para o seu email.');\r\n\t\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tswitch(error.status) {\r\n\t\t\t\t\t\t\tcase 404:\r\n\t\t\t\t\t\t\t\tthis.alert('Erro', 'O email não está registado.');\r\n\t\t\t\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tthis.alert('Erro', 'Ocorreu um erro a alterar a password.');\r\n\t\t\t\t\t\t\t\tthis.loading.dismiss();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\talert.present();\r\n\t}\r\n\r\n\talert(title: string, subtitle?: string) {\r\n\t\tlet alert = this.alertCtrl.create({\r\n\t\t\ttitle: title,\r\n\t\t\tsubTitle: subtitle,\r\n\t\t\tbuttons: ['Ok']\r\n\t\t});\r\n\t\talert.present();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}